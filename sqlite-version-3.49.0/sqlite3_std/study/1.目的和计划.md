# 目的和计划

## 目的

1. 通过实践和探索理解数据库
2. 掌握sqlite重要源码

## 计划

采用生成式学习

```python
sqlite/数据库学习计划() -> tp.Generator[阶段性成果, 新的问题, 掌握和理解sqlite数据库]: ...
```

对于计划来说，时间观念也很重要

```
sqlite/数据库学习计划(总时间) -> tp.Generator[(阶段性成果, 实际完成时间, 遇到的难题), (新的问题, 预计解决时间), 掌握和理解sqlite数据库]: ...
```

不同的路径可以说明很多事情，每个阶段不同问题的提出也可侧面看出思维方式，期待这次学习之旅。

### 计划表

| 计划时间  | 问题                                   | 完成时间 | 成果                           | 想法                         |
| --------- | -------------------------------------- | -------- | ------------------------------ | ------------------------------ |
| 2025/2/23 | 1.有什么公开资料比较好了解sqlite及使用 |          | [官方文档](https://sqlite.org/docs.html)资料还是比较多的，够现在用了 | [官方有一篇文档](https://sqlite.org/fileformat2.html)介绍了sqlite的文件格式，这也是一个了解sqlite的好途径;sqlite是一个单文件的数据库，如果了解了文件格式甚至可以直接编写解析sqlite的代码 |
|           | 2.sqlite有没有明显的逻辑层次结构       |          | [官方体系介绍](https://sqlite.org/arch.html)比较明了[翻译版](./sqlite架构.md) |  |
|           | 3.第一阶段的重点是什么                 |          | BTREE层实现了数据库的逻辑存储；Pager层实现了物理存储，并且实现了回滚和原子提交抽象，还处理数据库文件的锁机制，该层涉及到了大量的数据库概念。我认为这两层是优先需要掌握的 |                                                              |
|           | 4.如何搭建好sqlite的编译调试环境       |          | [官方编译参考](https://github.com/sqlite/sqlite)使用amalgamation代码进行编译，该版本将所有代码和接口分别放到了一个.c和.h文件，但是我还是倾向于使用源代码进行编译，毕竟是学习。**搭配了官方提供的Makefile.msc在vs2019从源代码完成了编译** |                                |
|           | 5.有什么好的工具可以作为辅助           |          |                                |                                |

